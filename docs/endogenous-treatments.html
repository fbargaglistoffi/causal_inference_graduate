<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Endogenous Treatments | Causal-Inference-Graduate.knit</title>
  <meta name="description" content="A graduate course on causal inference" />
  <meta name="generator" content="bookdown 0.46 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Endogenous Treatments | Causal-Inference-Graduate.knit" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A graduate course on causal inference" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Endogenous Treatments | Causal-Inference-Graduate.knit" />
  
  <meta name="twitter:description" content="A graduate course on causal inference" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="causal-machine-learning.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Causal Inference</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#learning-objectives"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#teaching-material"><i class="fa fa-check"></i>Teaching Material</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#assignments"><i class="fa fa-check"></i>Assignments</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#office-hours"><i class="fa fa-check"></i>Office Hours</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="foundations-potential-outcomes.html"><a href="foundations-potential-outcomes.html"><i class="fa fa-check"></i><b>1</b> Foundations: Potential Outcomes</a></li>
<li class="chapter" data-level="2" data-path="randomization-and-experiments.html"><a href="randomization-and-experiments.html"><i class="fa fa-check"></i><b>2</b> Randomization and Experiments</a></li>
<li class="chapter" data-level="3" data-path="observational-studies-design.html"><a href="observational-studies-design.html"><i class="fa fa-check"></i><b>3</b> Observational Studies: Design</a></li>
<li class="chapter" data-level="4" data-path="observational-studies-estimation.html"><a href="observational-studies-estimation.html"><i class="fa fa-check"></i><b>4</b> Observational Studies: Estimation</a></li>
<li class="chapter" data-level="5" data-path="observational-studies-sensitivity.html"><a href="observational-studies-sensitivity.html"><i class="fa fa-check"></i><b>5</b> Observational Studies: Sensitivity</a></li>
<li class="chapter" data-level="6" data-path="causal-machine-learning.html"><a href="causal-machine-learning.html"><i class="fa fa-check"></i><b>6</b> Causal Machine Learning</a></li>
<li class="chapter" data-level="7" data-path="endogenous-treatments.html"><a href="endogenous-treatments.html"><i class="fa fa-check"></i><b>7</b> Endogenous Treatments</a></li>
<li class="divider"></li>
<li><a href="https://www.falcobargaglistoffi.com/" target="blank">Instructor: Falco J. Bargagli-Stoffi</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="endogenous-treatments" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">7</span> Endogenous Treatments<a href="endogenous-treatments.html#endogenous-treatments" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<blockquote>
<p>Module 7 <a href="https://drive.google.com/file/d/1zSuxspBhkaYJzdVddDtpyEy3vOn_fiLI/view?usp=sharing"><strong>Slides</strong></a>
<!--

Recording: [**Module 7, Part 1**](https://drive.google.com/file/d/XXXXXXX/view?usp=sharing)

Recording: [**Module 7, Part 2**](https://drive.google.com/file/d/XXXXXXX/view?usp=sharing)

Recording: [**Module 7, Part 3**](https://drive.google.com/file/d/XXXXXXX/view?usp=sharing)

Trivia: [**Module 7 (Part 1)**](https://quizizz.com/admin/assessment/XXXXXXX?source=lesson_share)

Trivia: [**Module 7 (Part 2)**](https://quizizz.com/admin/assessment/XXXXXXX?source=lesson_share)
--></p>
</blockquote>
<blockquote>
<h2 id="textbook-reading-6" class="hasAnchor">Textbook reading<a href="endogenous-treatments.html#textbook-reading-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://www.cambridge.org/core/books/causal-inference-for-statistics-social-and-biomedical-sciences/71126BE90C58F1A431FE9B2DD07938AB"><strong>Imbens, G.W., Rubin, D.B. (2015)</strong></a> <em>Causal Inference for Statistics, Social, and Biomedical Sciences: An Introduction</em>, Chapters 23-25 (Instrumental Variables).</p>
<p><a href="https://press.princeton.edu/books/paperback/9780691120355/mostly-harmless-econometrics"><strong>Angrist, J.D., Pischke, J.S. (2009)</strong></a> <em>Mostly Harmless Econometrics</em>, Chapter 4 (Instrumental Variables in Action).</p>
<p><a href="https://www.cambridge.org/core/books/causality/B0046844FAE10CBF274D4ACBDAEB5F5B"><strong>Pearl, J. (2009)</strong></a> <em>Causality: Models, Reasoning, and Inference</em>, 2nd Edition, Chapters 3-4.</p>
</blockquote>
<blockquote>
<h3 id="additional-readings-5" class="hasAnchor">Additional Readings<a href="endogenous-treatments.html#additional-readings-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<h4 id="instrumental-variables-and-late" class="hasAnchor">Instrumental Variables and LATE<a href="endogenous-treatments.html#instrumental-variables-and-late" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="https://www.jstor.org/stable/2291629"><strong>Angrist, J.D., Imbens, G.W., Rubin, D.B. (1996)</strong></a> “Identification of Causal Effects Using Instrumental Variables,” <em>Journal of the American Statistical Association</em>, 91(434):444-455.</p>
<p><a href="https://www.jstor.org/stable/2951620"><strong>Imbens, G.W., Angrist, J.D. (1994)</strong></a> “Identification and Estimation of Local Average Treatment Effects,” <em>Econometrica</em>, 62(2):467-475.</p>
<p><a href="https://projecteuclid.org/journals/statistical-science/volume-29/issue-3/Instrumental-Variables-An-Econometricians-Perspective/10.1214/14-STS480.full"><strong>Imbens, G.W. (2014)</strong></a> “Instrumental Variables: An Econometrician’s Perspective,” <em>Statistical Science</em>, 29(3):323-358.</p>
<p><a href="https://projecteuclid.org/journals/annals-of-statistics/volume-25/issue-1/Bayesian-inference-for-causal-effects-in-randomized-experiments-with-noncompliance/10.1214/aos/1034276631.full"><strong>Imbens, G.W., Rubin, D.B. (1997)</strong></a> “Bayesian Inference for Causal Effects in Randomized Experiments with Noncompliance,” <em>Annals of Statistics</em>, 25(1):305-327.</p>
<h4 id="weak-instruments-and-partial-identification" class="hasAnchor">Weak Instruments and Partial Identification<a href="endogenous-treatments.html#weak-instruments-and-partial-identification" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="https://www.jstor.org/stable/2291055"><strong>Bound, J., Jaeger, D.A., Baker, R.M. (1995)</strong></a> “Problems with Instrumental Variables Estimation When the Correlation Between the Instruments and the Endogenous Explanatory Variable is Weak,” <em>Journal of the American Statistical Association</em>, 90(430):443-450.</p>
<p><a href="https://www.cambridge.org/core/books/abs/identification-and-inference-for-econometric-models/testing-for-weak-instruments-in-linear-iv-regression/8AD94FF2EFD214D05D75EE35015021E4"><strong>Stock, J.H., Yogo, M. (2005)</strong></a> “Testing for Weak Instruments in Linear IV Regression,” in <em>Identification and Inference for Econometric Models</em>.</p>
<p><a href="https://onlinelibrary.wiley.com/doi/abs/10.3982/ECTA11974"><strong>Kitagawa, T. (2015)</strong></a> “A Test for Instrument Validity,” <em>Econometrica</em>, 83(5):2043-2063.</p>
<p><a href="https://direct.mit.edu/rest/article-abstract/97/2/398/58220/Testing-Instrument-Validity-for-LATE?redirectedFrom=fulltext"><strong>Huber, M., Mellace, G. (2015)</strong></a> “Testing Instrument Validity for LATE Identification Based on Inequality Moment Constraints,” <em>Review of Economics and Statistics</em>, 97(2):398-411.</p>
<h4 id="principal-stratification" class="hasAnchor">Principal Stratification<a href="endogenous-treatments.html#principal-stratification" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/j.0006-341X.2002.00021.x"><strong>Frangakis, C.E., Rubin, D.B. (2002)</strong></a> “Principal Stratification in Causal Inference,” <em>Biometrics</em>, 58(1):21-29.</p>
<p><a href="https://journals.sagepub.com/doi/10.3102/10769986028004353"><strong>Zhang, J.L., Rubin, D.B. (2003)</strong></a> “Estimation of Causal Effects via Principal Stratification When Some Outcomes are Truncated by ‘Death’,” <em>Journal of Educational and Behavioral Statistics</em>, 28(4):353-368.</p>
<p><a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC2757143/"><strong>Jo, B., Stuart, E.A. (2009)</strong></a> “On the Use of Propensity Scores in Principal Causal Effect Estimation,” <em>Statistics in Medicine</em>, 28(23):2857-2875.</p>
<p><a href="https://www.tandfonline.com/doi/abs/10.1080/01621459.2013.802238"><strong>Mealli, F., Pacini, B. (2013)</strong></a> “Using Secondary Outcomes to Sharpen Inference in Randomized Experiments with Noncompliance,” <em>Journal of the American Statistical Association</em>, 108(503):1120-1131.</p>
<p><a href="https://pubmed.ncbi.nlm.nih.gov/24447366/"><strong>Mattei, A., Mealli, F., Pacini, B. (2014)</strong></a> “Identification of Causal Effects in the Presence of Nonignorable Missing Outcome Values,” <em>Biometrics</em>, 70(2):278-288.</p>
<h4 id="mediation-analysis" class="hasAnchor">Mediation Analysis<a href="endogenous-treatments.html#mediation-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="https://journals.lww.com/epidem/abstract/1992/03000/identifiability_and_exchangeability_for_direct_and.13.aspx"><strong>Robins, J.M., Greenland, S. (1992)</strong></a> “Identifiability and Exchangeability for Direct and Indirect Effects,” <em>Epidemiology</em>, 3(2):143-155.</p>
<p><a href="https://ftp.cs.ucla.edu/pub/stat_ser/R273-U.pdf"><strong>Pearl, J. (2001)</strong></a> “Direct and Indirect Effects,” <em>Proceedings of the 17th Conference on Uncertainty in Artificial Intelligence</em>, 411-420.</p>
<p><a href="https://projecteuclid.org/journals/statistical-science/volume-25/issue-1/Identification-Inference-and-Sensitivity-Analysis-for-Causal-Mediation-Effects/10.1214/10-STS321.full"><strong>Imai, K., Keele, L., Yamamoto, T. (2010)</strong></a> “Identification, Inference and Sensitivity Analysis for Causal Mediation Effects,” <em>Statistical Science</em>, 25(1):51-71.</p>
<p><a href="https://global.oup.com/academic/product/explanation-in-causal-inference-9780199325870"><strong>VanderWeele, T.J. (2015)</strong></a> <em>Explanation in Causal Inference: Methods for Mediation and Interaction</em>, Oxford University Press.</p>
<h4 id="structural-equation-models" class="hasAnchor">Structural Equation Models<a href="endogenous-treatments.html#structural-equation-models" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="https://www.cambridge.org/core/books/causality/B0046844FAE10CBF274D4ACBDAEB5F5B"><strong>Pearl, J. (2009)</strong></a> <em>Causality: Models, Reasoning, and Inference</em>, 2nd Edition, Cambridge University Press.</p>
<p><a href="https://link.springer.com/chapter/10.1007/978-94-007-6094-3_15"><strong>Bollen, K.A., Pearl, J. (2013)</strong></a> “Eight Myths About Causality and Structural Equation Models,” in <em>Handbook of Causal Analysis for Social Research</em>.</p>
</blockquote>
<blockquote>
<h3 id="software-4" class="hasAnchor">Software<a href="endogenous-treatments.html#software-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<h4 id="r-packages" class="hasAnchor">R Packages<a href="endogenous-treatments.html#r-packages" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="https://cran.r-project.org/web/packages/AER/index.html"><strong>AER: Applied Econometrics with R</strong></a> Comprehensive package for 2SLS estimation, IV diagnostics, and weak instrument tests.</p>
<p><a href="https://cran.r-project.org/web/packages/ivpack/index.html"><strong>ivpack: Instrumental Variable Estimation</strong></a> Tools for IV analysis including Anderson-Rubin confidence intervals for weak instruments.</p>
<p><a href="https://cran.r-project.org/web/packages/ivreg/index.html"><strong>ivreg: Instrumental Variables Regression</strong></a> Modern implementation of 2SLS with robust standard errors and diagnostics.</p>
<p><a href="https://cran.r-project.org/web/packages/mediation/index.html"><strong>mediation: Causal Mediation Analysis</strong></a> R package implementing methods from Imai, Keele, and Yamamoto (2010) for mediation analysis.</p>
<p><a href="https://cran.r-project.org/web/packages/dagitty/index.html"><strong>dagitty: Graphical Analysis of Structural Causal Models</strong></a> Tools for analyzing DAGs, finding adjustment sets, and testing instrumental variable assumptions.</p>
<p><a href="https://cran.r-project.org/web/packages/ggdag/index.html"><strong>ggdag: Visualize DAGs</strong></a> ggplot2 extension for visualizing and analyzing directed acyclic graphs.</p>
<p><a href="https://github.com/grf-labs/grf"><strong>grf: Generalized Random Forests</strong></a> Includes <code>instrumental_forest()</code> for IV estimation with heterogeneous effects.</p>
<h4 id="python-packages" class="hasAnchor">Python Packages<a href="endogenous-treatments.html#python-packages" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="https://github.com/bashtage/linearmodels"><strong>linearmodels</strong></a> IV estimation (2SLS, LIML, GMM) with panel data support and robust inference.</p>
<p><a href="https://github.com/py-why/dowhy"><strong>DoWhy</strong></a> Microsoft’s causal inference library with DAG-based identification, IV estimation, and sensitivity analysis.</p>
<p><a href="https://github.com/microsoft/EconML"><strong>econml</strong></a> Includes <code>DMLIV</code> and <code>OrthoIV</code> for doubly robust IV estimation with machine learning.</p>
<p><a href="https://github.com/quantumblacklabs/causalnex"><strong>CausalNex</strong></a> Bayesian network structure learning and causal inference with DAGs.</p>
</blockquote>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="causal-machine-learning.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/fbargaglistoffi/causal_inference_graduate/edit/main/07_endogeneity.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": "https://github.com/fbargaglistoffi/causal_inference_graduate/blob/main/07_endogeneity.Rmd",
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

</body>

</html>
